YUI.add("contextual-shortcuts-settings-base",function(f){var c=f.namespace("CS"),b=f.config.win,e="",d="q";c.Settings=f.Base.create("settings",f.Base,[],{initializer:function(g){this.after("configsChange",this._afterConfigsChange);this.after("urlsChange",this._afterUrlsChange);this.after("argsChange",this._afterArgsChange);this.after("argmapChange",this._afterArgMapChange);this.after("modulesChange",this._afterModulesChange)},destructor:function(){},_afterConfigsChange:function(g){},_afterUrlsChange:function(g){},_afterArgsChange:function(g){},_afterArgMapChange:function(g){},_afterModulesChange:function(g){},doSync:function(g){}},{ATTRS:{configs:{validator:function(g){return f.Lang.isObject(g)},value:{version:"4.0.0",enabledByDefault:true,enabledAnnotation:true,enabledYecsStarted:true,enabledS2S:false,disableHover:true,initEvent:"load",hideOverlaySearch:false,defaultLang:"en",offnet:{enabled:false},shortcuts:function(g){if(typeof g.config.win.YAHOO!=="undefined"){return g.config.win.YAHOO&&g.config.win.YAHOO.Shortcuts}},ywa:{documentGroup:"Contextual Shortcut",documentName:"CSOverlay"},frcode:"csc_",frcode_s2s:"_s2s",frIntl:false,intl:"us",vs:[],isEntityVisible:null,jsonpTimeout:6000,visibleHoverDelay:500,comscoreDelay:5000,closeDelay:{thresholdLow:1500,timeoutLow:2000,thresholdHigh:2500,timeoutHigh:1500,defaultTimeout:500},maxHeight:409,maxPersistent:1,cacheLimit:3,udbCookie:"T",prefCookie:"YSC",prefExpires:23328000000,prefTimeout:1500,reMode:/<type>/,reCapExclude:/(?:^|,)(?:IDENTIFIER|PLACE)(?=,|$)/,selectors:{container:"body",ovl_container:"body",annotation:".yshortcuts",overlay:".cs4-ovl",overlayTrigger:".yshortcuts,.cs4-ovl",overlayClick:"button,a,.cs4-sbb",iframe:".cs4-frm",msgBox:".cs4-msg",searchBox:".cs4-sbq",s2s:{bubble:".s2s-b",copy:".cp",search:".sch",arrow:".s2s-b .arw"},host:null},classes:{annotation:"yshortcuts",visible:"cs4-visible",invisible:"cs4-inv",click:"cs4-click",toggleHover:"cs4-toggle-hover",helpOn:"cs4-helpon",ieGradient:"cs4-grad",offscreen:"cs4-offscreen",iframe:"cs4-frm",overlay:"cs4-ovl",header:"cs4-hd",title:"cs4-title",searchBox:"cs4-sb",searchQuery:"cs4-sbq",searchButton:"cs4-sbb",closeButton:"cs4-close",loader:"cs4-loader",msgBox:"cs4-msg",selecting:"cs4-selecting",message:"cs4-message",loading:"cs4-loading",shortcut:"cs4-shortcut",options:"cs4-set-options",contacts:"cs4-contacts"},identifiers:{hyperlink:"shortcuts:/us/instance/identifier/hyperlink",email:"shortcuts:/us/instance/identifier/email_address",compose:"/ym/Compose?To="},actClose:"close",actSearch:"search",actOpen:"open",actComscore:"comscore",actUlt:"ult",actS2SCopy:"copy",actS2SSearch:"click",ult:{INTLBASESID:1351195143,hostSpaceId:"2143806745",hoverSpaceId:"2143806745",clickSpaceId:"2143806746",comscoreSpaceId:"2143806747",actions:{open:{sec:"inline",slk:"entity<mode>_co"},close:{sec:"<mode>srch_box",slk:"close",t:1},search:{sec:"<mode>srch_box",slk:"search",query:1},comscore:{sec:"inline",slk:"entitycomscore_co"}}}}},urls:{validator:function(g){return f.Lang.isObject(g)},value:{css:"http://d.yimg.com/oq/css/cs4-g.css",searchQueryBase:"search.yahoo.com/search",jsonpBase:"cs.search.yahoo.com",comscore:"http://pclick.yahoo.com/p",ywa:"http://d.yimg.com/mi/ywa.js"}},args:{validator:function(g){return f.Lang.isObject(g)},value:{hover:{cb:"{callback}",p:e,mode:"hover",fr:"csc_general",cap_type:e,cap_entities:e,vs:[]},click:{cb:"{callback}",p:e,mode:"click",fr:"csc_general",cap_type:e,vs:[]},readPref:{cb:"YUI.CS.setPref",mode:"pref-read",fr:"csc_general"},turnOn:{cb:"YUI.CS.noop",mode:"pref-cs-off",fr:"csc_general",".bcrumb":e},turnOff:{cb:"YUI.CS.noop",mode:"pref-cs-on",fr:"csc_general",".bcrumb":e},bcrumb:{cb:"YUI.CS.bcrumb",mode:"bcrumb",fr:"csc_general"},ult:{cb:"YUI.CS.ult",fr:e,cap_json:e},comscore:{s:"2143806747",p:e,v:"4.0.0",l:e,fr:e,a:e,u:e}}},argmap:{validator:function(g){return f.Lang.isObject(g)},value:{p:function(g){return g.ovl&&g.ovl.getData(d)||g.ann&&a.ann.text||e},cap_type:function(g){return g.ann&&g.ann.type||(!!c.s2sAct?"s2s":e)||e},cap_entities:function(){return c.entities},".bcrumb":function(){return c.bcrumb},cap_json:function(g){return g.ann&&f.JSON.stringify(c.ultData(g.ann))||e},l:function(){return c.shortcuts&&c.shortcuts.version},a:function(g){return g.ann&&g.ann.category||g.a||e},fr:function(){var g=(typeof c.CONFIGS.hspart!="undefined")?c.CONFIGS.hspart:c.CONFIGS.frcode;return(c.s2sAct?(g+c.CONFIGS.frcode_s2s):g)},u:function(){return location.href}}},modules:{validator:function(g){return f.Lang.isObject(g)},value:{}}}})},"0.1",{requires:["json","base"]});YUI.add("contextual-shortcuts-config",function(f){var c=f.namespace("CS"),b=f.config.win,e="",d="q",a=encodeURIComponent;c.MainSettings=f.Base.create("mainsettings",c.Settings,[],{doSync:function(){this.set("configs.disableHover",true);this.set("configs.zIndexBase",2147481000);this.set("configs.renderLastAnn",false);this.set("configs.ult.sampleRate",2);this.set("configs.shortcuts",function(){if(Object.prototype.toString.apply(f.config.win.YAHOO.Shortcuts.annotationSet)==="[object Array]"){var h,m={},k={},g=0,l=f.config.win.YAHOO.Shortcuts;for(h=0;h<l.annotationSet.length;h++){var j=l.annotationSet[h];m[j.uuid]=j;g++}k={annotationSet:m,entityCount:g,version:l.version};return k}else{return f.config.win.YAHOO&&f.config.win.YAHOO.Shortcuts}});this.set("configs.prop","news");this.set("configs.selectors.container",".yom-art-content ");this.set("configs.maxPersistent",0);this.set("configs.cacheLimit",0);this.set("configs.selectors.host",{title:"h1.headline"});this.set("configs.classes.ndcor","cs4-ndcor");this.set("argmap.title",function(){return(!!f.one(c.CONFIGS.selectors.host.title)?f.one(c.CONFIGS.selectors.host.title).get("innerHTML"):e)})}})},"1.0.0",{requires:["json-stringify"]});YUI.add("contextual-shortcuts-healthcheck",function(a){a.namespace("CS").checkHealth={enable:1,blacklist:["employment screening"]}},"1.0.0");YUI.add("contextual-shortcuts-langs",function(a){a.namespace("CS").LOCALSTRING={en:{containerTitle:"Search Results by Yahoo!",searchButton:"Search Web",searchBubble:"Search",copyBubble:"Copy",shortcutsTitle:"SHORTCUTS",requestError:"Request error",searchQuery:"Search query",closeOverlay:"Close",searchButtonToolTip:"Search the web (opens in a new window)",loading:"Loading..."},de:{containerTitle:"Trefferliste",searchButton:"Durchsuchen",searchBubble:"Suchen",copyBubble:"Kopieren",shortcutsTitle:"SHORTCUTS",requestError:"Fehler bei Anfrage",searchQuery:"Suchanfrage",closeOverlay:"Schließen",searchButtonToolTip:"Web durchsuchen (öffnet sich in neuem Fenster)",loading:"Lädt..."},fr:{containerTitle:"Résultats de la recherche",searchButton:"Rechercher",searchBubble:"Rechercher",copyBubble:"Copier",shortcutsTitle:"RACCOURCIS",requestError:"Erreur de requête",searchQuery:"Requête",closeOverlay:"Fermer",searchButtonToolTip:"Rechercher sur le Web (s'ouvre dans une nouvelle fenêtre)",loading:"Chargement..."},es:{containerTitle:"Resultados de la búsqueda",searchButton:"Buscar",searchBubble:"Buscar",copyBubble:"Copiar",shortcutsTitle:"ACCESOS DIRECTOS",requestError:"Error de solicitud",searchQuery:"Consulta de búsqueda",closeOverlay:"Cerrar",searchButtonToolTip:"Buscar en la Web (se abre en una nueva ventana)",loading:"Cargando..."},it:{containerTitle:"Risultati di ricerca",searchButton:"Cerca nel Web",searchBubble:"Cerca",copyBubble:"Copia",shortcutsTitle:"COLLEGAMENTI",requestError:"Errore richiesta",searchQuery:"Termine di ricerca",closeOverlay:"Chiudi",searchButtonToolTip:"Cerca nel Web (si apre in una nuova finestra)",loading:"Carico..."},br:{containerTitle:"Resultados da pesquisa",searchButton:"Pesquisa",searchBubble:"Buscar",copyBubble:"Copiar",shortcutsTitle:"ATALHOS",requestError:"Erro na solicitação",searchQuery:"Busca",closeOverlay:"Fechar",searchButtonToolTip:"Procurar na web (uma nova janela será aberta)",loading:"Carregando..."},"es-us":{containerTitle:"Buscar resultados",searchButton:"Buscar",searchBubble:"Búsqueda",copyBubble:"Copiar",shortcutsTitle:"ACCESOS DIRECTOS",requestError:"Error de solicitud",searchQuery:"Buscar pregunta",closeOverlay:"Cerrar",searchButtonToolTip:"Buscar en la Web (se abre en una nueva ventana)",loading:"Cargando..."}}},"1.0.0");YUI.add("contextual-shortcuts-spaceid",function(a){a.namespace("CS").SPACEID={INTLBASESID:1351195143,ar:13000,au:9000,br:10000,ca:21000,cl:48000,co:45000,de:18000,e1:20000,es:14000,fr:16000,hk:2000,"in":23000,it:19000,mx:12000,nz:42000,pe:47000,tw:5000,uk:17000,ve:46000}},"1.0.0");YUI.add("contextual-shortcuts-utils-intl",function(c){var a=c.namespace("CS");function b(m){var q=a.CONFIGS,n=a.URLS,g="",p=m.langTag?m.langTag.toLowerCase():"en-us",h=m.frIntl?m.frIntl:false,k,e=m.prop?m.prop:g,d=m.hspart?m.hspart:g;function o(){var r=a.LOCALSTRING,t,s;switch(p){case"en-gb":case"en-ie":langIntl="en-uk";break;case"fr-ca":langIntl="fr-qc";break;case"es-us":case"es-e1":langIntl="es-espanol";break;case"pt-pt":langIntl="pt-uk";break;case"es-mx":case"es-pe":case"es-co":case"es-cl":case"es-ve":case"es-e1":case"es-ar":langIntl="es-us";break;default:langIntl=p;break}s=p.split("-")[0];t=r[langIntl]||r[s]||r[q.defaultLang];a.STRINGS={searchButton:t.searchButton,containerTitle:t.containerTitle,searchBubble:t.searchBubble,copyBubble:t.copyBubble,shortcutsTitle:t.shortcutsTitle,requestError:t.requestError,searchQuery:t.searchQuery,closeOverlay:t.closeOverlay,searchButtonToolTip:t.searchButtonToolTip,loading:t.loading};a.CONFIGS.langIntl=langIntl;if(m.sampleRate){a.CONFIGS.ult["sampleRate"]=m.sampleRate}}function i(){var r=q.frcode;if(e){r=r+e;if(h&&langIntl){r=r+"_"+langIntl.split("-")[1]}}else{if(d){r=d}}q.frcode=r}function j(){var r=g;k=langIntl.split("-")[1]||g;if(k&&k!=q.intl&&k!="us"){r=k+"."}n.searchQuery="http://"+r+n.searchQueryBase;n.jsonp="http://"+r+n.jsonpBase+"/cs";n.jsonpUlt="http://"+r+n.jsonpBase+"/beacon/cs"}function f(){if(!a.SPACEID[k]){return q.ult.hostSpaceId}var s=q.ult,t=a.SPACEID[k]||s.hostSpaceId,r=a.SPACEID.INTLBASESID;if(typeof t!=="undefined"){s.hostSpaceId=r+t;s.hoverSpaceId=r+t;s.clickSpaceId=r+t+1;s.comscoreSpaceId=r+t+2;a.ARGS.comscore.s=r+t+2}}function l(){}o();i();j();f()}a.IntlUtils=b},"1.0.0",{requires:["contextual-shortcuts-langs","contextual-shortcuts-spaceid"]});YUI.add("contextual-shortcuts-healthcheck",function(a){a.namespace("CS").checkHealth={enable:1,blacklist:["employment screening"]}},"1.0.0");YUI.add("contextual-shortcuts",function(a){var h=a.namespace("CS"),b=YUI.namespace("CS"),k=a.namespace("Search").ULT,m=(YUI.Env.CS=YUI.Env.CS||{}),f="a",e="p",g,n,j,d,c="",l=function(){n=h.CONFIGS;j=h.URLS;g=h.ARGS;if(!m.started&&n.enabledAnnotation){h.initAnnotation();if(n.enabledYecsStarted){m.started=1}}if(n.enabledS2S){a.namespace("S2S").init();a.namespace("S2S").inited=true}};h.init=function(p){var q,o;h.settings=new h.MainSettings();h.settings.doSync(p);h.CONFIGS=h.settings.get("configs");h.URLS=h.settings.get("urls");h.ARGS=h.settings.get("args");h.ARGMAP=h.settings.get("argmap");h.MODULES=h.settings.get("modules");o=h.CONFIGS;csCfg={langTag:o.langTag,prop:o.prop,frIntl:o.frIntl};h.IntlUtils(csCfg);if((q=o.initEvent)){a.on(q,l)}else{l()}};h.ultData=function(t,A,E){var N="",z=h.shortcuts,x=h.getMode(E),o=n.reMode,J=n.ult,y=t.id||(t.get&&t.get("id")),G=t.obj||!!h.annSet&&h.annSet[y],I=(A===n.actComscore),D=(A===n.actClose||A===n.actSearch),s=I?h.getUrl(j.comscore,{arg:g.comscore,ovl:E,ann:G}):A===n.actUlt?h.getUrl(j.jsonpUlt,{arg:g.ult,ann:t}):G?G.ult[x]:"",H=(J.actions[A]!==n.actOpen&&J.actions[A])||{details:1},K={fr:((typeof E!="undefined"&&E!=null&&!!E.s2s)?(n.frcode+n.frcode_s2s):n.frcode),url:!!n.ult.useHost?location.host+location.pathname:location.href};if(typeof y!=="undefined"&&!D){K.id=y}if(s){if(I){(new Image()).src=s;return}else{if(!D){a.Get.script(s);return}}}if(a.Lang.isObject(H)){a.mix(K,H);if(K.sec&&K.slk){K.sec=K.sec.replace(o,x);K.slk=K.slk.replace(o,x)}if(E&&K.t){K.t=new Date()-E.getData("openTime")}if(E&&K.query){K.query=E.one(n.selectors.searchBox).get("value")}if(G&&(G.details||H.details)){var u=z.modelId||N,L=z.document_url||N,p=z.document_title||N,w=z.document_length||N,M=z.document_language||N,v=z.document_author||N,r=z.abtCategories||N,F=z.yctCategories||N,C=z.mailCategories||N,B=z.bazookaCategories||N;if(u){K.modelId=u}if(L){K.docUrl=L}if(p){K.docTtl=p}if(w){K.docLen=w}if(M){K.docLang=M}if(v){K.docAuth=v}if(r){K.abtCat=r}if(F){K.yctCat=F}if(C){K.mailCat=C}if(B){K.bzkCat=B}if(G.entities){if(G.details){var q=G.entities;a.Object.each(q,function(P,O){K[O]=P})}else{K.entities=G.entities||N}}a.mix(K,{asid:z&&z.annotationSetID||N,n_ent:z&&z.entityCount||N,bVersion:z&&z.version||N,fVersion:n.version});delete K.details}}if(A){K[k.SRC_SPACEID_KEY]=J[D?"clickSpaceId":(I?A:"host")+"SpaceId"]}return K};h.track=function(r,p,o){var q=h.ultData(p&&p.getData&&p.getData(f)||o||h.s2sObj.text,r,p);if(q){return k.beacon(q)}};h.trackImpressionAll=function(u){var s=h.track,z=n.actUlt;if(!h.sampled){return}var A={},p=[],x=[],q=[],y=[],r=[],v=[],o=[],w=[],t=[];a.Object.each(u,function(D,E){var C=D.ult||{},B=D.type&&D.type.toString();if(!C.hover&&!C.hold){C.hold=1;p.push(E);x.push(D.text);q.push(D.typeId);y.push(D.wikiId);r.push(D.start);v.push(D.capAbtScore);o.push(D.csScore);w.push(D.weight);t.push(D.visible||D.metaData.visible)}});A={entities:{id:p,eText:x,start:r,wt:w,visible:t},ult:{mode:c}};if(q.toString().replace(/\,/g,c)!=c){A.entities.typeId=q}if(y.toString().replace(/\,/g,c)!=c){A.entities.wikiId=y}if(v.toString().replace(/\,/g,c)!=c){A.entities.abtScore=v}if(o.toString().replace(/\,/g,c)!=c){A.entities.csScore=o}s(z,null,{obj:A})};b.bcrumb=function(o){h.bcrumb=o};b.noop=function(){};b.ult=function(o){if(typeof o.id=="undefined"){return}var s,q=o.id.split(","),p=o.h.split(","),r=o.c.split(",");for(i=0;i<q.length;i++){var s=q[i];k=h.annSet[s].ult||{};k.hover=p[i];k.click=r[i]}k.beacon=a.namespace("Search").ULT.beacon;k.SRC_SPACEID_KEY=a.namespace("Search").ULT.SRC_SPACEID_KEY;delete k.hold;h.sampledDone=true};h.getDetailCapData=function(p){if(typeof h.annSet[p]==="undefined"){return c}var s,r=h.annSet[p],o=r.type&&r.type.toString(),q=r.typeId||c,t={id:p,eText:r.text,wikiId:r.wikiId,start:r.start,abtScore:r.capAbtScore,csScore:r.csScore,weight:r.weight,typeId:r.typeId,visible:r.visible||r.metaData.visible};return{obj:{entities:t,ult:{mode:""},details:1}}}},"1.0.0",{requires:["node","contextual-shortcuts-healthcheck","contextual-shortcuts-utils-intl","contextual-shortcuts-annotation","ult-linktrack"]});YUI.add("contextual-shortcuts-annotation",function(c){var f=c.namespace("CS"),o=c.Object,v=null,j="id",b,d,x=/^(?:([A-Za-z]+:))?(\/{0,3})?([0-9.\-A-Za-z]+)?(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/,g,t,n,l,w,m,u=function(y){var B=x.exec(y)||[],z=B[1],C=B[2],F=B[3],A=B[4],G=B[5],E=B[6],D=B[7];return(F||G||E||D)&&((z||c.config.doc.location.protocol)+(C||"//")+(F||"")+(A&&":"+A||"")+(G&&"/"+G||"")+(E&&"?"+E||"")+(D&&"#"+D||""))||y},k=function(){var z=b.closeDelay,y=(new Date()).getTime()-f.openTime;return y<=z.thresholdLow?z.timeoutLow:(y<=z.thresholdHigh?z.timeoutHigh:z.defaultTimeout)},s=function(){delete m.close;g=v;f.closeOverlay()},q=function(z){delete m.open;if(g===z.currentTarget){return}(g=z.currentTarget).focus();var y=f.getQuery(g);f.showOverlay(y,g)},r=function(y){return f.CONFIGS.disableHover||w||f.checkPersistence(y)||y.hasClass(t.shortcut)||(y.hasClass(t.annotation)&&!y.hasClass(t.visible))},e=function(z){var A,y=z.currentTarget;if(r(y)){return}if((A=m.close)&&(y.hasClass(t.overlay)||g===y)){A.cancel();delete m.close}else{m.open=c.later(b.visibleHoverDelay,this,q,z)}},h=function(y){var z;if(r(y.currentTarget)){return}z=(z=m.open)&&z.cancel()&&delete m.open;m.close=c.later(k(),this,s)},a=function(y){w=(y.type==="mousedown");n[w?"addClass":"removeClass"](t.selecting)},p=function(z){var y=z.keyCode;if(y==8||y==46||(y==16&&y==8)||(y>48&&y<90)){z.stopPropagation();return}};registerEnvetHandlers=function(){var z=f.CONFIGS.selectors,A=z.annotation,y=z.overlayTrigger;f.initOverlay();n.delegate("click",f.persistOverlay,A);n.on("mousedown",a);n.on("mouseup",a);n.delegate("keydown",p,z.searchBox)},prepareSet=function(){var y=f.CONFIGS,Q=y.classes;if(f.donePrep){delete f.donePrep;return}var O=c.Lang,L=o.each,M=f.shortcuts=y.shortcuts(c),R=f.annSet=M&&M.annotationSet,B=f.entities=[],T=-1,F=l.blacklist||[],C=y.isEntityVisible,G=y.identifiers,K=G.hyperlink,P=G.email,D=P.length,S=G.compose,A=Q.annotation,z=y.selectors.annotation,I=Q.visible,N=Q.ndcor,H=Q.shortcut,J=y.reCapExclude,E=y.annIgnore||{};if(!R){c.all(z).removeClass(A);return}if(!O.isFunction(C)){C=function(){return 1}}L(R,function(Z,ab){var aa,V,X,Y=c.one("#"+ab),W=f.MODULES,U=(U=Z.metaData)&&(O.isArray(U)?U[0]:U);if(!Y){return}Z.position=(T+=1);Z.ult={};Z.blacklisted=false;for(i=0;i<F.length;i++){if(Z.text.toLowerCase()===F[i].toLowerCase().replace(/^\s+|\s+$/g,"")){Z.blacklisted=true;break}}L(E,function(ad,ac){Z.ignored=ad.test(Z[ac].toString().toLowerCase())});Z.visible=U?(U.visible==="true"?1:0):C(Z);aa=Z.clientMetaData||{};if(Z.blacklisted||Z.ignored||!U||aa.disabled){Y.removeClass(A);return}V=U.linkHref;X=!!Z.type?Z.type.toString():"";if(X.indexOf(K)>-1&&U.linkProtocol==="http"){if(!V.indexOf(S)){Z.type=P;Z.text=V.slice(D)}U.linkHref=u(V)}if(U.type){X+=","+U.type.toString()}L(W,function(ae){var ac=ae.typeInclude,ad=ae.typeExclude;if(Z.module){return}if((ac&&ac.test(X))&&(!ad||!ad.test(X))){Z.module=ae;Y.addClass(H);return}});if(Y.ancestor("a")&&!Z.module){Y.removeClass(A);return}if(!!Z.category&&!J.test(Z.category.toString())){B.push(Z.text)}if(Z.visible){Y.addClass(I)}else{if(!!N){Y.addClass(N)}}});n=f.shortcuts.containerNode||c.one(f.CONFIGS.selectors.container);n.all(z).each(function(U){if(!R[U.get(j)]){U.removeClass(A)}});M.entityCount=(T+1);f.trackImpressionAll(R);registerEnvetHandlers();f.donePrep=true},loadCss=function(){var y=f.URLS.css;if(y){c.Get.css(y,{onSuccess:prepareSet})}else{prepareSet()}};f.getAnnObj=function(y){if(y==undefined||f.annSet==undefined){return{}}return f.annSet[y.get(j)]||{}};f.initAnnotation=function(){b=f.CONFIGS;d=f.URLS;t=b.classes;m={};var y=b.ult.sampleRate||0;y=isNaN(y)?y[b.langIntl]||0:y;f.sampled=Math.round(Math.random()*100000)<(y*1000||0);l=f.checkHealth;if(!l.enable){return}loadCss()}},"1.0.0",{requires:["node","event-delegate","event-focus","contextual-shortcuts-settings-base","contextual-shortcuts-overlay","contextual-shortcuts-config"]});YUI.add("contextual-shortcuts-overlay",function(f){var C=f.namespace("CS"),k=f.config.doc,c="a",P="p",e="q",g="",b=" ",J=null,F=true,ab=false,n="zIndex",l=f.Lang,M=encodeURIComponent,m=f.Node.getDOMNode,j,T,a,N,v,o="<div></div>",A="<span></span>",K="<h2></h2>",V="<button></button>",t="<b></b>",s,X,aa,R,d,y,u,Q={},r=function(Y){var ad=T.classes;Y=Y||aa;Y.removeClass(ad.message).removeClass(ad.shortcut).removeClass(ad.ieGradient).removeClass(ad.contacts).addClass(ad.invisible).removeClass(ad.click)},I={get:function(ad){var Y,af,ae=k.cookie;ad=M(ad)+"=";af=ae.indexOf(ad);if(af>-1){Y=(Y=ae.indexOf(";",af))>-1?Y:ae.length;return decodeURIComponent(ae.slice(af+ad.length,Y))}return J},set:function(ae,ag,ad){var Y,af,ah=M(ae)+"="+M(ag);if(!ad){Y=new Date();Y.setTime(Y.getTime()+T.prefExpires);af=location.hostname.split(".");af=af.slice(af.length-2).join(".");ad={expires:Y,domain:af,path:"/"}}f.Object.each(ad,function(aj,ai){ah+="; "+ai+"="+(l.isDate(aj)?aj.toUTCString():aj)});k.cookie=ah}},z=function(){I.set(T.prefCookie,(C.enabled?"0":"1"));if(I.get(T.udbCookie)){f.Get.script(N.saveUserPref+(C.enabled?"on":"off"))}},S=function(Y){if(l.isUndefined(Y)){setByDefault();return}C.enabled=Y;I.set(T.prefCookie,(Y?"0":"1"))},G=function(an){an.preventDefault();var ao=an.currentTarget,ak=an.container,af=ao.get("parentNode"),aq=1,ai=T.classes,aj=f.one(T.selectors.iframe),al=(typeof m(aj).contentWindow.document!=="undifined")?m(aj).contentWindow.document:{},am,ad,ag,ae=/(\*){2}(http\S+\/\/[^\?]+)/i,ah=N.searchQuery,Y,ap;if(ao.hasClass(ai.searchButton)){am=al.getElementsByClassName?al.getElementsByClassName("moreres"):ab;ad=al.getElementsByClassName?al.getElementsByClassName("sc-more"):ab;ag=(am&&am[0]&&am[0].getElementsByTagName("a")[0].getAttribute("href"))||(ad&&ad.length&&ad[ad.length-1].getAttribute("href"));if(!!ag){Y=decodeURIComponent(ag).match(ae)[2];if(!!Y&&Y.toLowerCase()!=ah.toLowerCase()){ah=Y}}ap=(Math.floor(Math.random()*123456))+123456;ah=ah+"?"+ap;af.setAttribute("action",ah);af.submit();y(T.actSearch,ak);return}an.halt();if(ao.hasClass(ai.closeButton)){r(ak);y(T.actClose,ak);return}if(ao.hasClass(ai.toggleHover)){if(C.enabled&&a.disableHoverConfirm){aq=confirm(a.disableHoverConfirm)}if(aq){C.enabled=!C.enabled;if(!C.enabled){r(ak)}}return}if(ao.hasClass(ai.options)&&l.isFunction(T.options)){return T.options()}},w=function(){var am,ag,ae,an,ao,al=T.selectors,ad=T.classes,ak=!!T.enabledToolTip?a.searchButtonToolTip:"",ah=f.one(al.ovl_container)||f.one(al.container),ap,ai=hsimpAuth=typeAuth="",Y,af,aj=f.Node;if(!C.CONFIGS.hideOverlaySearch){an=aj.create('<input type="text" name="p">').set("id",f.guid()).addClass(ad.searchQuery);if(parseInt(f.UA.webkit.toString().split(".",1),10)<533){an.addClass("nrw-sbq")}}frParam=T.frcode?(aj.create('<input type="hidden" name="fr">').setAttribute("value",T.frcode)):"";if(T.offnet.enabled){ai=aj.create('<input type="hidden" name="hspart">').setAttribute("value",C.ARGS.click.hspart);hsimpAuth=aj.create('<input type="hidden" name="hsimp">').setAttribute("value",C.ARGS.click.hsimp);typeAuth=aj.create('<input type="hidden" name="type">').setAttribute("value",T.offnet.type)}ag=aj.create(o).addClass(ad.header).append(aj.create(t).addClass(ad.title).setContent(a.shortcutsTitle));if(!C.CONFIGS.hideOverlaySearch){ag.append(aj.create(o).addClass(ad.searchBox+(u?" cs4-qm":"")).append(aj.create('<form accet-charset="utf-8" target="_blank">').setAttribute("action",N.searchQuery).append(aj.create("<label>").setContent(a.searchQuery).addClass(ad.offscreen).setAttribute("for",an.get("id"))).append(an).append(frParam).append(ai).append(hsimpAuth).append(typeAuth).append(aj.create('<input type="submit">').set("value",a.searchButton).addClass(ad.searchButton).setAttribute("title",ak))))}if(typeof ad.containerHd=="undefined"){ag.append(aj.create(V).setContent(a.closeOverlay).addClass(ad.closeButton)).append(aj.create(t).setContent(a.loading).addClass(ad.loader))}ae=aj.create(o).addClass(ad.overlay+b+ad.invisible+b+(typeof ad.container!="undefined"?ad.container:""));ao=aj.create(o).addClass("cs4-result");if(typeof ad.containerHd!="undefined"){ae.append(aj.create(K).addClass(ad.containerHd).setContent(a.containerTitle).append(aj.create(A).setAttribute("title",a.closeOverlay).addClass(ad.closeButton)));ao=ao.append(aj.create('<p class="mloading">'+a.loading+"</p>"))}ae.append(aj.create(o).addClass(ad.containerBd).append(ag).append(aj.create(o).addClass(ad.msgBox)).append(ao)).append(aj.create(o).addClass(ad.containerFt));ae.delegate("click",G,al.overlayClick);ah.append(ae);return ae},B=function(aj,al){var Y=f.DOM,ar=Y.docScrollY(),an=parseInt(aj.getStyle("width"),10)+R,ap=parseInt(aj.getStyle("height"),10)+R,at=Y.winWidth()+Y.docScrollX(),aq=Y.winHeight()+ar,ak=parseInt(f.one(C.CONFIGS.selectors.container).getComputedStyle("width"),10),ai=parseInt(f.one(C.CONFIGS.selectors.container).getComputedStyle("height"),10),af=aj.getData(c),ad=af.getXY(),ao=ad[0],am=ad[1],ae=parseInt(af.get("offsetHeight"),10),ah;if(ao+an>at){ao=at-an-20;al=ab}if(aq-ap<20||(am+ae+ap>aq&&am<ap)){try{am=C.CONFIGS.defaultOverlayPos+ar-10}catch(ag){}}else{if((am+ae+ap<aq)||(am-ap<0)||(am-ar<aq-(am+ae))){am+=ae}else{am-=ap}}if(!!al&&aj.getY()!=am){ah=new f.Anim({node:aj,to:{xy:[ao,am]},duration:0.3});f.later(100,J,function(){ah.run()})}else{aj.setXY([ao,am])}},O=function(ai,aj,af){var ah=m(aj).contentWindow,ae=ah.document,ag,ad,Y;ae.body.style.width=(f.UA.ie&&f.UA.ie<8)?(ae.body.offsetWidth-32+"px"):"auto";ag=Math.max(ae.documentElement.offsetHeight,ae.body&&ae.body.offsetHeight);if(!T.maxHeight||parseInt(ag,10)<T.maxHeight){ad=ag||T.maxHeight}else{ad=T.maxHeight}aj.setStyle("height",ad+"px");B(af,F);YUI({win:ah}).use("node",function(al){al.all("a").setAttribute("target","_blank");al.all("form").setAttribute("target","_blank");try{al.one(T.selectors.container).delegate("click",function(am){fireComscore(af,"click")},"a")}catch(ak){}if(!!C.CONFIGS.ywa&&C.CONFIGS.ywa.partnerId){try{al.one(T.selectors.container).delegate("click",function(an){var am=YWA.getTracker(C.CONFIGS.ywa.partnerId);am.setDocumentName(T.ywa.documentName);am.setDocumentGroup(T.ywa.documentGroup);am.submit();am.setAction(13);am.submit_action()},"a")}catch(ak){}}})},h=function(ad,Y){s.content[ad]=Y;s.entries.push(ad);if(s.entries.length>T.cacheLimit){delete s.content[s.entries.shift()]}},D=function(ae){var ad,af=(d.pos=(d.pos+=1)%T.maxPersistent),Y=d.queue[af];if(d.queries[ae]){return}d.queries[aa.getData(e)]=1;aa.setData(P,F);if(v){aa.setStyle(n,v)}else{aa.addClass(T.classes.click)}if(!Y){d.queue[af]=aa;aa=w();return}r(Y);ad=Y;d.queue[af]=aa;aa=ad},E=function(){if(Q.jsonp){Q.jsonp.cancel();delete Q.jsonp}},ac=function(af,ae){var ad=ae.ovl||{},ag=ae.ann||ad&&!!C.getAnnObj&&C.getAnnObj(ad.getData(c)),Y=(Y=ae.arg)&&l.isFunction(Y)?Y(ag):Y,ah=C.ARGMAP,ai=g;af=l.isFunction(af)?af():af;f.each(Y,function(ak,aj){var al=ah[aj];ai+=(ai?"&":"?")+(l.isArray(ak)?x(aj,ak):(aj+"="+(aj!=="cb"?M(al?al({ovl:ad,ann:ag,a:(C.s2sObj?C.s2sObj.a:g)}):ak):ak)))});return af+ai},x=function(ad,Y){var ae=g;if(Y.length==0){return ae}for(i=0;i<Y.length;i++){ae+=(ae?"&":"")+ad+"="+M(Y[i])}return ae},p=function(ad,ag){var af=T.classes,ae=T.selectors,Y=(typeof af.containerHd!="undefined")?' style="height:80px;"':' style="height:0"',ah=ad.one(ae.iframe);if(ah){ah.remove(F)}ah=f.Node.create('<iframe allowtransparency="true" src="javascript:\'\';" frameborder="0" '+(ag?g:Y)+">").addClass(af.iframe);if(typeof af.containerHd!="undefined"){ah.hide()}ad.one(".cs4-result").setContent(ah);if(typeof af.containerHd!="undefined"){ah.on("load",function(){ah.show()})}ad.removeClass(af.loading);if(ag){ad.addClass(af.shortcut+(b+ag.css||g));ah.set("src",ac(ag.url,{arg:ag.args,ovl:ad}));B(ad);return}ah.on("load",O,J,ah,ad);return ah},U=function(ad,af,Y,ag){var ae=T.classes;E();Y.one(T.selectors.msgBox).setContent(a.requestError).removeClass(ae.loading).addClass(ae.message)},q=function(ai,ao,ag,ap){var af,ah,an,ad,ae,Y,al=g,ak=g,aq=g;E();if(ag.getData(e)!==ao){return}af=p(ag);try{ah=m(af).contentWindow.document;ah.open();ah.write(ai);ah.close()}catch(am){return}if(!!T.defaultBodyHeight){f.one(ag.get("parentNode")).setStyle("minHeight",T.defaultBodyHeight)}if(typeof ah.getElementsByClassName!="undefined"&&(ah.getElementsByClassName("moreres")||ah.getElementsByClassName("sc-more"))){an=ah.getElementsByClassName?ah.getElementsByClassName("moreres"):ab;ad=ah.getElementsByClassName?ah.getElementsByClassName("sc-more"):ab;ae=(an&&an[0]&&an[0].getElementsByTagName("a")[0].getAttribute("href"))||(ad&&ad.length&&ad[ad.length-1].getAttribute("href"));if(!!ae){if(typeof C.ARGS.click.hspart!="undefined"){al=encodeURIComponent("&hsimp="+C.ARGS.click.hspart);ak=typeof C.ARGS.click.hsimp!="undefined"?encodeURIComponent("&hsimp="+C.ARGS.click.hsimp):"";aq=typeof C.ARGS.click.type!="undefined"?encodeURIComponent("&type="+C.ARGS.click.type):""}Y=ae+al+ak+aq}if(an&&an.length>0){an[0].getElementsByTagName("a")[0].setAttribute("href",Y)}else{if(ad&&ad.length>0){var aj=ad[0].getElementsByTagName("a");if(aj.length>0){aj.setAttribute("href",Y)}else{ad[0].setAttribute("href",Y)}}}}if(ap){h(ao,ai)}},L=function(Y){return mode=Y&&(Y.getData&&Y.getData(P)?"click":"hover")||g},Z=function(ae,ah){var ag,ad,af=T.classes,ai=T.jsonpTimeout,Y=ae.getData(c),aj=ae.getData(e);E();if(ah){p(ae,ah);return}if(T.renderLastAnn&&X===Y){ae.removeClass(af.loading);return}X=Y;if(!C.CONFIGS.hideOverlaySearch){ae.one(T.selectors.searchBox).set("value",aj)}ag=s.content[aj];if(ag){q(ag,aj,ae);return}Q.jsonp=f.later(ai,J,U,[J,aj,ae]);ad=ac(N.jsonp,{ovl:ae,arg:j[L(ae)]});f.jsonp(ad,{timeout:ai,on:{success:q,failure:U,timeout:U},args:[aj,ae,ab]})},W=function(Y){var ad=(ad=!!C.getAnnObj&&C.getAnnObj(Y))&&ad.text;return ad},H=function(Y){return(query=!!Y&&Y.text)||g};queryNotDisplayed=function(Y){return !(aa&&(aa.getData(e)===Y)||d&&d.queries[Y]||!Y)},checkPersistence=function(Y){return d.queries[W(Y)]},fireComscore=function(Y,ad){var ae=Q.comscore;if(!ae){return}if(ae.cancel){ae.cancel()}delete Q.comscore;if(!aa.hasClass(T.classes.invisible)&&Y===aa||checkPersistence(Y.getData(c))){if(ad!==undefined){j.comscore.h=ad}else{j.comscore.h="timer"}y(T.actComscore,Y)}};C.showOverlay=function(ak,ag,ai,ae){var af=T.classes,ah=500;if(!!T.disableScrollBar&&parseInt(f.one(k).one("body").get("offsetHeight"))<ah){var aj=ah-parseInt(f.one(k).one("body").get("offsetHeight"))+"px";f.one(k).one("body").setStyle("overflow","hidden");f.one(k).one("body").append(f.Node.create(o).setStyle("height",aj))}if(!ai&&!C.enabled||!queryNotDisplayed(ak)){return}aa.setData(e,ak).setData(c,ag).setData(P,ai).setData("openTime",new Date());if(C.CONFIGS.enabledS2S&&!!C.s2sAct){aa.s2s=F;if(T.offnet&&T.offnet.enabled){aa.all(".cs4-sb form input[name=type]").setAttribute("value",T.offnet.type+T.frcode_s2s)}else{aa.all(".cs4-sb form input[name=fr]").setAttribute("value",T.frcode+T.frcode_s2s)}}else{aa.s2s=ab;if(T.offnet.enabled){aa.all(".cs4-sb form input[name=type]").setAttribute("value",T.offnet.type)}else{aa.all(".cs4-sb form input[name=fr]").setAttribute("value",T.frcode)}}if(typeof af.containerHd!="undefined"){aa.one(".cs4-result").setContent(f.Node.create('<p class="mloading">'+a.loading+"</p>"))}aa.removeClass(af.message).removeClass(af.shortcut).removeClass(af.contacts).addClass(af.ieGradient).removeClass(af.invisible).addClass(af.loading);if(v){aa.setStyle(n,v+1)}B(aa);Z(aa,ae);if(!C.sampled){var Y=ag.get("id"),ad=C.getDetailCapData&&C.getDetailCapData(Y);if(ad){y(T.actOpen,null,ad)}else{if(C.s2sAct){y(T.actOpen,aa)}}}else{if(C.sampledDone){y(T.actOpen,aa)}}if(ae){return}if(!ai){Q.comscore=f.later(T.comscoreDelay,this,fireComscore,aa)}return aa};C.persistOverlay=function(ah){var ag,ae,Y,ai=T.classes.visible,ak=T.classes.ndcor,af=ah.currentTarget,aj=W(af)||H(C.s2sObj),al=!!C.getAnnObj&&C.getAnnObj(af)||{},ad=!!al&&al.module;ah.halt();if(ad){if(ad.js){ad.js(al,C.shortcuts);return}if(ad.url&&!ad.css){Y=ac(ad.url,{arg:ad.args,ann:al});if(ad.sameWindow){location.assign(Y)}else{open(Y)}return}}if(queryNotDisplayed(aj)){C.showOverlay(aj,af,F,ad)}else{f.one(T.selectors.overlay).removeClass(T.classes.invisible)}if(!al.tracked){Q.comscore=1;fireComscore(aa,"click");al.visible=al.visible||2;af.removeClass(ak);af.addClass(ai);ae=[al];ag=C.annSet;f.Array.each(al.showOnClick,function(ao){var an=ag[ao],am=f.one("#"+ao);if(an&&am){an.visible=an.visible||2;am.removeClass(ak);am.addClass(ai);ae.push(an)}});al.tracked=1}if(T.maxPersistent){D(aj)}if(C.ddUsed==ab){f.use("dd-ddm","dd-drag",function(am){dd=new am.DD.Drag({node:aa});C.ddUsed=F;dd.on("drag:start",function(){shimNode=am.one(".yui3-dd-shim");shimZIndex=shimNode.getStyle("zIndex");shimNode.setStyle("zIndex",parseInt(v)+2)});dd.on("drag:end",function(){shimNode.setStyle("zIndex",shimZIndex)})})}};C.closeOverlay=r;C.checkPersistence=checkPersistence;C.getMode=L;C.getUrl=ac;C.getQuery=W;YUI.namespace("CS").setPref=S;C.initOverlay=function(){T=C.CONFIGS;a=C.STRINGS;N=C.URLS;j=C.ARGS;v=T.zIndexBase||1;C.ddUsed=ab;d={pos:-1,queue:[],queries:{}};s={entries:[],content:{}};y=C.track;u=f.config.doc.compatMode==="BackCompat";if(f.one(T.selectors.overlay)){aa=f.one(T.selectors.overlay)}else{aa=w();R=2*parseInt(aa.getStyle("paddingTop"),10)+2*parseInt(aa.getStyle("borderTopWidth"),10)+5}if(T.selectors.closeOverlay){f.one(T.selectors.closeOverlay).on("click",function(ad){var Y=T.selectors.overlay;if(ad.target.ancestor(Y)===null){f.one(Y).addClass(T.classes.invisible)}})}}},"1.0.0",{requires:["node","event-delegate","anim","jsonp","contextual-shortcuts-config"]});YUI.add("ult-linktrack",function(d){var c=d.namespace("Search");function a(j){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789._-",f="",r,p,n,q,o,m,k,g=j.length,h=0;do{r=j.charCodeAt(h++);p=j.charCodeAt(h++);n=j.charCodeAt(h++);q=r>>2;o=((r&3)<<4)|(p>>4);m=((p&15)<<2)|(n>>6);k=n&63;if(isNaN(p)){m=k=64}else{if(isNaN(n)){k=64}}f+=(e.charAt(q)+e.charAt(o)+e.charAt(m)+e.charAt(k))}while(h<g);return f}function b(g){for(var f=0,e=g.length;f<e;f++){if(g.charCodeAt(f)<32){return true}}return false}if(!c.ULT){c.ULT={}}d.mix(c.ULT,{BEACON_URL:"http://cs.search.yahoo.com/b.gif",SRC_SPACEID_KEY:"_S",beacon:function(f){var e=c.ULT.track_click(c.ULT.BEACON_URL,f)+"?t="+Math.random();(new Image()).src=e},track_click:function(f,k){var h="\x03",g="\x04",e="_r",n=[],m=[],l,j;if(!d.Lang.isObject(k)){return f}k[e]=2;l=0;d.each(k,function(o,i){if(!d.Lang.isString(o)){try{o=o.toString()}catch(p){return}}if(i.length<1||i.length>8||i.indexOf(" ")!==-1||b(i)||b(o)){n=[];return}n[l++]=i});if(!n.length){return f}n=n.sort();l=0;d.each(n,function(i){var o=k[i];m[l++]=i+h+o});j=m.join(g);if(j.length<1||j.length>1024){return f}j=";_ylc="+a(j);l=f.indexOf("/*");if(l===-1){l=f.indexOf("/?")}if(l===-1){l=f.indexOf("?")}if(l===-1){return f+j}else{return f.substr(0,l)+j+f.substr(l)}}})},"1.0.0");YUI().use("contextual-shortcuts",function(a){a.CS.init()});